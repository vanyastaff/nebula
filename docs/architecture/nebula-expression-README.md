# Nebula Expression - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìö –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ `nebula-expression` –∏ –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

#### 1. üìñ [–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑](./nebula-expression-analysis.md)
**–ü–æ–ª–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –≥–ª—É–±–æ–∫–∏–º –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ–º –≤ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å**

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ (lib.rs, engine.rs, template.rs, etc.)
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ë–µ–Ω—á–º–∞—Ä–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏

**–ß–∏—Ç–∞—Ç—å –∫–æ–≥–¥–∞**: –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è

**–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è**: ~30-40 –º–∏–Ω—É—Ç

---

#### 2. üó∫Ô∏è [Roadmap —É–ª—É—á—à–µ–Ω–∏–π](./nebula-expression-improvements-roadmap.md)
**–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–µ–π**

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- P0-P3 –∑–∞–¥–∞—á–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
- –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
- Breaking changes –∞–Ω–∞–ª–∏–∑
- –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- 6-–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ß–∏—Ç–∞—Ç—å –∫–æ–≥–¥–∞**: –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —É–ª—É—á—à–µ–Ω–∏–π

**–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è**: ~45-60 –º–∏–Ω—É—Ç

---

#### 3. üìã [–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞](./nebula-expression-issues-summary.md)
**Quick reference –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º –ø–æ —Ñ–∞–π–ª–∞–º**

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º (160+)
- –ü—Ä–æ–±–ª–µ–º—ã –ø–æ —Ñ–∞–π–ª–∞–º (—Ç–∞–±–ª–∏—Ü—ã)
- Top 10 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- Timeline (4 –Ω–µ–¥–µ–ª–∏)
- Quick start guide

**–ß–∏—Ç–∞—Ç—å –∫–æ–≥–¥–∞**: –ù—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –∏–ª–∏ –ø–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã

**–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è**: ~10-15 –º–∏–Ω—É—Ç

---

#### 4. üéØ [–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤](./nebula-expression-priority-matrix.md)
**–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- Eisenhower Matrix (–≤–∞–∂–Ω–æ—Å—Ç—å vs —Å—Ä–æ—á–Ω–æ—Å—Ç—å)
- Impact vs Effort Matrix
- –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏
- Critical Path –∞–Ω–∞–ª–∏–∑
- ROI ranking
- Gantt chart
- Milestone checklist
- Risk mitigation

**–ß–∏—Ç–∞—Ç—å –∫–æ–≥–¥–∞**: –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

**–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è**: ~15-20 –º–∏–Ω—É—Ç

---

## üöÄ Quick Start

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

#### –•–æ—á—É –Ω–∞—á–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å**: [–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞](./nebula-expression-issues-summary.md) (10 –º–∏–Ω)
2. **–í—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É**: [Roadmap](./nebula-expression-improvements-roadmap.md) ‚Üí —Å–µ–∫—Ü–∏—è P0
3. **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏**: [–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑](./nebula-expression-analysis.md) ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å
4. **–ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**: –°–ª–µ–¥–æ–≤–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç—É –≤ Roadmap

#### –•–æ—á—É –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å**: [–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑](./nebula-expression-analysis.md) (30 –º–∏–Ω)
2. **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã**: Code snippets –≤ –∞–Ω–∞–ª–∏–∑–µ
3. **–ò–∑—É—á–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã**: [–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞](./nebula-expression-issues-summary.md)

#### –ü–ª–∞–Ω–∏—Ä—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ —Å–ø—Ä–∏–Ω—Ç

1. **–û—Ç–∫—Ä—ã—Ç—å**: [–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤](./nebula-expression-priority-matrix.md)
2. **–ò–∑—É—á–∏—Ç—å**: –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ Critical Path
3. **–í—ã–±—Ä–∞—Ç—å**: –ó–∞–¥–∞—á–∏ –ø–æ ROI ranking
4. **–î–µ—Ç–∞–ª–∏**: [Roadmap](./nebula-expression-improvements-roadmap.md) ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

---

## üìä –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã

```
–í—Å–µ–≥–æ:        160+
‚îú‚îÄ P0 (üî¥):   12   (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ, —Ä–µ—à–∏—Ç—å –∑–∞ 2 –Ω–µ–¥–µ–ª–∏)
‚îú‚îÄ P1 (üü°):   23   (–≤–∞–∂–Ω—ã–µ, —Ä–µ—à–∏—Ç—å –∑–∞ –º–µ—Å—è—Ü)
‚îú‚îÄ P2 (üü¢):   45   (–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ, –∫–≤–∞—Ä—Ç–∞–ª)
‚îî‚îÄ P3 (‚ö™):   80+  (nice-to-have)
```

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```
Performance:      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 45 (28%)
Memory:           ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 38 (24%)
Architecture:     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 22 (14%)
API Design:       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 18 (11%)
Error Handling:   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 15 (9%)
Testing:          ‚ñà‚ñà‚ñà‚ñà‚ñà 12 (7%)
Documentation:    ‚ñà‚ñà‚ñà 10 (6%)
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ø–æ—Å–ª–µ P0)

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| Throughput | 10k ops/sec | 75k ops/sec | **7.5x** |
| Allocations | ~15 per eval | ~3 per eval | **5x** |
| Memory | High | Efficient | **70%** |
| Concurrent | Slow | Fast | **7.5x** |

---

## üéØ Top 10 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

1. **Template Zero-Copy** (P0.1, 4h)
   - 70% memory reduction
   - Files: template.rs

2. **Engine RwLock** (P0.2, 3h)
   - 7.5x concurrent throughput
   - Files: engine.rs

3. **Context Arc Values** (P0.3, 5.5h)
   - 40x faster clone
   - Files: context/mod.rs

4. **AST String Interning** (P0.4, 6h)
   - 10x faster clone, 50% memory
   - Files: core/ast.rs

5. **Lexer Zero-Copy** (P0.5, 6.5h)
   - 1.5x faster, 0 allocations
   - Files: lexer/mod.rs

6. **Eval Recursion Limit** (P0.6, 3.5h)
   - DoS protection
   - Files: eval/mod.rs

7. **Short-circuit Evaluation** (P0.7, 3.5h)
   - Correctness + performance
   - Files: eval/mod.rs

8. **Regex Caching** (P0.8, 2.5h)
   - 100x faster regex
   - Files: eval/mod.rs

9. **Parser Recursion Limit** (P0.9, 2.5h)
   - DoS protection
   - Files: parser/mod.rs

10. **API Surface Cleanup** (P0.10, 1.5h)
    - Stable API
    - Files: lib.rs

**Total P0**: ~39 hours (5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π)

---

## üóìÔ∏è Timeline

### Week 1: Foundation
**–§–æ–∫—É—Å**: Memory optimization + performance

**–ó–∞–¥–∞—á–∏**:
- P0.1: Template Zero-Copy (4h)
- P0.2: Engine RwLock (3h)
- P0.3: Context Arc (5.5h)
- P0.4: AST Interning (6h)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 70% fewer allocations, 5x clone speed

---

### Week 2: Safety
**–§–æ–∫—É—Å**: DoS protection + security

**–ó–∞–¥–∞—á–∏**:
- P0.5: Lexer Zero-Copy (6.5h)
- P0.6-P0.9: Recursion limits + safety (12h)
- P0.8: Regex Cache (2.5h)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: DoS protected, 1.5x faster lexing

---

### Week 3: API
**–§–æ–∫—É—Å**: Stable public API

**–ó–∞–¥–∞—á–∏**:
- P0.10: API Surface (1.5h)
- P0.11: Feature Flags (3.5h)
- P0.12: Builtin Type Safety (7h)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Clean API, optional dependencies

---

### Week 4+: P1
**–§–æ–∫—É—Å**: Long-term quality

**–ó–∞–¥–∞—á–∏**:
- Token lifetimes
- Error context
- Iterator builtins
- etc.

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Production-ready quality

---

## üìñ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```
docs/architecture/
‚îú‚îÄ‚îÄ nebula-expression-README.md              ‚Üê –í—ã –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ nebula-expression-analysis.md            ‚Üê –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (30-40 –º–∏–Ω)
‚îú‚îÄ‚îÄ nebula-expression-improvements-roadmap.md ‚Üê Plan —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (45-60 –º–∏–Ω)
‚îú‚îÄ‚îÄ nebula-expression-issues-summary.md      ‚Üê Quick reference (10-15 –º–∏–Ω)
‚îî‚îÄ‚îÄ nebula-expression-priority-matrix.md     ‚Üê –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (15-20 –º–∏–Ω)
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è

#### –ù–æ–≤–∏—á–æ–∫ –≤ –ø—Ä–æ–µ–∫—Ç–µ
1. README (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - 5 –º–∏–Ω
2. –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ - 15 –º–∏–Ω
3. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ - 40 –º–∏–Ω

#### –ù–∞—á–∏–Ω–∞—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
1. Roadmap - 60 –º–∏–Ω
2. Priority Matrix - 20 –º–∏–Ω
3. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å) - 10 –º–∏–Ω

#### –ü–ª–∞–Ω–∏—Ä—É—é —Å–ø—Ä–∏–Ω—Ç
1. Priority Matrix - 20 –º–∏–Ω
2. Roadmap (P0-P1 —Å–µ–∫—Ü–∏–∏) - 30 –º–∏–Ω
3. –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ (–¥–ª—è reference) - 5 –º–∏–Ω

---

## üéì –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### Zero-Copy Patterns

**–ß—Ç–æ**: –ò–∑–±–µ–≥–∞–Ω–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π —á–µ—Ä–µ–∑ borrowing

**–ì–¥–µ**: Template, Lexer, Token

**–ü—Ä–∏–º–µ—Ä**:
```rust
// –î–æ: –ö–∞–∂–¥—ã–π parse - allocation
pub struct Template {
    source: String,  // Owned
}

// –ü–æ—Å–ª–µ: Borrow –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
pub struct Template<'a> {
    source: Cow<'a, str>,  // Borrowed –∏–ª–∏ Owned
}
```

**–í—ã–≥–æ–¥–∞**: 0 allocations –¥–ª—è borrowed cases

---

### Arc-based Sharing

**–ß—Ç–æ**: Reference counting –¥–ª—è cheap cloning

**–ì–¥–µ**: Context, AST, Engine cache

**–ü—Ä–∏–º–µ—Ä**:
```rust
// –î–æ: Deep copy
#[derive(Clone)]
pub struct EvaluationContext {
    nodes: HashMap<String, Value>,  // –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å HashMap
}

// –ü–æ—Å–ª–µ: Shallow copy
#[derive(Clone)]
pub struct EvaluationContext {
    nodes: Arc<HashMap<Arc<str>, Value>>,  // –¢–æ–ª—å–∫–æ —Å—á–µ—Ç—á–∏–∫
}
```

**–í—ã–≥–æ–¥–∞**: 40x faster clone

---

### SmallVec Optimization

**–ß—Ç–æ**: Inline storage –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π

**–ì–¥–µ**: Template parts, AST args

**–ü—Ä–∏–º–µ—Ä**:
```rust
// –î–æ: –í—Å–µ–≥–¥–∞ heap
Vec<TemplatePart>

// –ü–æ—Å–ª–µ: Stack –¥–ª—è ‚â§8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
SmallVec<[TemplatePart; 8]>
```

**–í—ã–≥–æ–¥–∞**: 0 heap allocations –¥–ª—è 90% —Å–ª—É—á–∞–µ–≤

---

### RwLock Pattern

**–ß—Ç–æ**: Read-heavy lock –¥–ª—è concurrent access

**–ì–¥–µ**: Engine cache

**–ü—Ä–∏–º–µ—Ä**:
```rust
// –î–æ: Exclusive lock
Arc<Mutex<Cache>>

// –ü–æ—Å–ª–µ: Concurrent reads
Arc<RwLock<Cache>>
```

**–í—ã–≥–æ–¥–∞**: 7.5x concurrent throughput

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### Internal
- [Nebula Core Architecture](../README.md)
- [Nebula Value Design](../nebula-value.md)
- [Performance Benchmarks](../../benchmarks/)

### External
- [Rust Performance Book](https://nnethercote.github.io/perf-book/)
- [Cow Documentation](https://doc.rust-lang.org/std/borrow/enum.Cow.html)
- [Arc Documentation](https://doc.rust-lang.org/std/sync/struct.Arc.html)
- [SmallVec Crate](https://docs.rs/smallvec/)
- [Parking Lot](https://docs.rs/parking_lot/)

---

## ü§ù Contributing

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å** —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. **–í—ã–±—Ä–∞—Ç—å** –∑–∞–¥–∞—á—É –∏–∑ Roadmap
3. **–°–æ–∑–¥–∞—Ç—å** feature branch
4. **–°–ª–µ–¥–æ–≤–∞—Ç—å** —á–µ–∫–ª–∏—Å—Ç—É –≤ Roadmap

### Code Review Checklist

- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ—à–µ–Ω–∏—é –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Benchmark –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
- [ ] –ù–µ—Ç clippy warnings
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] CHANGELOG.md –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –ù–µ—Ç breaking changes (–∏–ª–∏ –µ—Å—Ç—å migration guide)

### Definition of Done

–ó–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–≥–¥–∞:
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ Benchmarks –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —É–ª—É—á—à–µ–Ω–∏–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ Code review –ø—Ä–æ–π–¥–µ–Ω
- ‚úÖ Merged –≤ main

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –≤–æ–ø—Ä–æ—Å—ã

### –ü–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –°–º. [–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑](./nebula-expression-analysis.md)
- Issues –Ω–∞ GitHub

### –ü–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –°–º. [Roadmap](./nebula-expression-improvements-roadmap.md)
- Code review –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏
- –°–º. [Priority Matrix](./nebula-expression-priority-matrix.md)
- Sprint planning meetings

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Version 1.0 (2025-01-08)
- –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- P0-P3 roadmap
- Priority matrix
- Quick reference guide

### –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ P0
- Post-mortem –∞–Ω–∞–ª–∏–∑
- Lessons learned
- Updated benchmarks

---

## üéØ Success Metrics

### Performance Goals (Post-P0)

```
‚úÖ Concurrent throughput: 75k ops/sec   (current: 10k)
‚úÖ Allocations per eval:  3             (current: 15)
‚úÖ Template parse time:   2Œºs           (current: 10Œºs)
‚úÖ Context clone time:    50ns          (current: 2Œºs)
‚úÖ Memory usage:          -70%          (vs current)
```

### Quality Goals

```
‚úÖ Test coverage:         90%+
‚úÖ Documentation:         Comprehensive
‚úÖ API stability:         No breaking changes
‚úÖ Security:              DoS protected
‚úÖ Performance:           Regression tests passing
```

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### 1. –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

```bash
# Quick overview (15 –º–∏–Ω—É—Ç)
cat nebula-expression-issues-summary.md

# Deep dive (1 —á–∞—Å)
cat nebula-expression-analysis.md
cat nebula-expression-improvements-roadmap.md
```

### 2. –í—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
cat nebula-expression-priority-matrix.md

# –í—ã–±—Ä–∞—Ç—å –∏–∑ roadmap
cat nebula-expression-improvements-roadmap.md | grep "P0\."
```

### 3. –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

```bash
# –°–æ–∑–¥–∞—Ç—å feature branch
git checkout -b feature/p0.1-template-zero-copy

# –°–ª–µ–¥–æ–≤–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç—É –≤ roadmap
# ...

# Commit & PR
git commit -m "feat: implement zero-copy template (P0.1)"
git push origin feature/p0.1-template-zero-copy
```

---

## üéì Learning Resources

### Rust Performance
- [The Rust Performance Book](https://nnethercote.github.io/perf-book/)
- [Rust Atomics and Locks](https://marabos.nl/atomics/)

### Parsing & Compilers
- [Crafting Interpreters](https://craftinginterpreters.com/)
- [Writing An Interpreter In Go](https://interpreterbook.com/)

### Best Practices
- [Rust API Guidelines](https://rust-lang.github.io/api-guidelines/)
- [Effective Rust](https://www.lurklurk.org/effective-rust/)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-01-08
**–í–µ—Ä—Å–∏—è**: 1.0
**–°—Ç–∞—Ç—É—Å**: Active Development
**–ú–µ–π–Ω—Ç–µ–π–Ω–µ—Ä—ã**: Nebula Team
